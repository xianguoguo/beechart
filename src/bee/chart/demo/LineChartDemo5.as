package bee.chart.demo
{
    import bee.chart.abstract.ChartData;
    import bee.chart.abstract.ChartDataSet;
    import bee.chart.abstract.ChartStates;
    import bee.chart.LineChart;
    import flash.display.Sprite;
    import flash.events.Event;
    import flash.text.StyleSheet;
    import net.hires.debug.Stats;

    /**
    * ...
    * @author hua.qiuh
    */
    public class LineChartDemo5 extends Sprite 
    {
        
        public function LineChartDemo5():void 
        {
            if (stage) init();
            else addEventListener(Event.ADDED_TO_STAGE, init);
        }
        
        private function init(e:Event = null):void 
        {
            removeEventListener(Event.ADDED_TO_STAGE, init);
            // entry point
            stage.align = 'TL';
            stage.scaleMode = 'noScale';
            
            //所有类型图表的CController都是同一个：Chart
            var chart:LineChart = new LineChart();
            var data:ChartData = chart.data;
            
            //添加数据
            /*{"apiVersion":"1.0","results":[{"t":["1980-07","1981-07","1982-07","1983-07","1984-07","1985-07","1986-07","1987-07","1988-07","1989-07","1990-07","1991-07","1992-07","1993-07","1994-07","1995-07","1996-07","1997-07","1998-07","1999-07","2000-07","2001-07","2002-07","2003-07","2004-07","2005-07","2006-07","2007-07","2008-07","2009-07"],"g":"m","v":[
            * {"eid":"01000","m":[["3894025.0","3918533.0","3925263.0","3934100.0","3951824.0","3972520.0","3991569.0","4015262.0","4023842.0","4030219.0","4050055.0","4099156.0","4154014.0","4214202.0","4260229.0","4296800.0","4331102.0","4367935.0","4404701.0","4430141.0","4451687.0","4462832.0","4469906.0","4486598.0","4506574.0","4537299.0","4587564.0","4626595.0","4661900.0","4708708.0"]]},
            * {"eid":"02000","m":[["401851.0","418493.0","449606.0","488418.0","513704.0","532496.0","544269.0","539310.0","541984.0","547160.0","553290.0","570193.0","588736.0","599432.0","603308.0","604412.0","608569.0","612968.0","619932.0","624779.0","627428.0","633160.0","642391.0","650426.0","660975.0","668625.0","676301.0","681111.0","686293.0","698473.0"]]},
            * {"eid":"04000","m":[["2716546.0","2810108.0","2889860.0","2968924.0","3067134.0","3183539.0","3308261.0","3437103.0","3535183.0","3622184.0","3684097.0","3788576.0","3915740.0","4065440.0","4245089.0","4432499.0","4586940.0","4736990.0","4883342.0","5023823.0","5166810.0","5303632.0","5449195.0","5585512.0","5750475.0","5961239.0","6178251.0","6353421.0","6500180.0","6595778.0"]]},
            * {"eid":"05000","m":[["2286358.0","2293204.0","2294254.0","2305766.0","2319767.0","2327046.0","2331988.0","2342357.0","2342655.0","2346354.0","2356586.0","2383144.0","2415984.0","2456303.0","2494019.0","2535399.0","2572109.0","2601090.0","2626289.0","2651860.0","2678217.0","2689601.0","2701889.0","2717909.0","2740191.0","2768918.0","2804199.0","2830557.0","2855390.0","2889450.0"]]},
            * {"eid":"06000","m":[["2.3667764E7","2.4285933E7","2.4820007E7","2.5360023E7","2.5844397E7","2.6441107E7","2.7102238E7","2.777716E7","2.846425E7","2.9218165E7","2.9959515E7","3.0470736E7","3.0974659E7","3.1274928E7","3.1484435E7","3.1696582E7","3.2018834E7","3.248601E7","3.2987675E7","3.3499204E7","3.3998767E7","3.450703E7","3.4916495E7","3.5307398E7","3.5629666E7","3.5885415E7","3.6121296E7","3.6377534E7","3.6756666E7","3.6961664E7"]]},
            * {"eid":"08000","m":[["2889735.0","2977899.0","3061562.0","3133634.0","3169995.0","3208726.0","3237448.0","3260477.0","3262280.0","3275815.0","3307618.0","3387119.0","3495939.0","3613734.0","3724168.0","3826653.0","3919972.0","4018293.0","4116639.0","4226018.0","4327788.0","4431918.0","4503156.0","4548339.0","4600050.0","4662734.0","4751474.0","4842770.0","4939456.0","5024748.0"]]},
            * {"eid":"09000","m":[["3107564.0","3128837.0","3139014.0","3162355.0","3180014.0","3201131.0","3223741.0","3247290.0","3271954.0","3283404.0","3291967.0","3302895.0","3300712.0","3309175.0","3316121.0","3324144.0","3336685.0","3349348.0","3365352.0","3386401.0","3411714.0","3428208.0","3448261.0","3467932.0","3475351.0","3478714.0","3487896.0","3489868.0","3501252.0","3518288.0"]]},
            * {"eid":"10000","m":[["594338.0","595974.0","599148.0","605459.0","611565.0","618279.0","627559.0","636946.0","647621.0","658274.0","669567.0","683080.0","694925.0","706378.0","717545.0","729734.0","740977.0","751487.0","763335.0","774990.0","786404.0","794498.0","803774.0","814262.0","825682.0","838519.0","850366.0","861953.0","873092.0","885122.0"]]}]},{"t":["1980-07","1981-07","1982-07","1983-07","1984-07","1985-07","1986-07","1987-07","1988-07","1989-07","1990-07","1991-07","1992-07","1993-07","1994-07","1995-07","1996-07","1997-07","1998-07","1999-07","2000-07","2001-07","2002-07","2003-07","2004-07","2005-07","2006-07","2007-07","2008-07","2009-07"],"g":"m","v":[
            * {"eid":"_TOP_LEVEL_ENTITY","m":[["2.2654225E8","2.29465744E8","2.31664432E8","2.33792014E8","2.35824908E8","2.37923734E8","2.40132831E8","2.42288936E8","2.44499004E8","2.46819222E8","2.49622814E8","2.52980941E8","2.56514224E8","2.59918588E8","2.63125821E8","2.66278393E8","2.69394284E8","2.72646925E8","2.75854104E8","2.79040168E8","2.82171936E8","2.85039803E8","2.87726647E8","2.90210914E8","2.92892127E8","2.95560549E8","2.98362973E8","3.01290332E8","3.04059724E8","3.0700655E8"]]}]}]}
            * */
            //1. 以dataProvider的方式提供数据
            //chart.dataProvider = ...
            //2. 直接修改数据
            data.defineLabel('年份');
            data.defineValue('人口', '人');
            data.labels = new <String>[
                "1980", "1981", "1982", "1983", "1984", "1985", "1986", "1987","1988","1989","1990","1991","1992","1993","1994","1995","1996","1997","1998","1999","2000","2001","2002","2003","2004","2005","2006","2007","2008","2009","2010" ];
			///*
            data.addSet(
                new ChartDataSet(
                    "全美国", 
                    new <Number>[2.2654225E8,2.29465744E8,2.31664432E8,2.33792014E8,2.35824908E8,2.37923734E8,2.40132831E8,2.42288936E8,2.44499004E8,2.46819222E8,2.49622814E8,2.52980941E8,2.56514224E8,2.59918588E8,2.63125821E8,2.66278393E8,2.69394284E8,2.72646925E8,2.75854104E8,2.79040168E8,2.82171936E8,2.85039803E8,2.87726647E8,2.90210914E8,2.92892127E8,2.95560549E8,2.98362973E8,3.01290332E8,3.04059724E8,3.0700655E8],
                    {
                        style: {
                            color: '#109618'
                        }
                    }
                )
            );
			///*
            data.addSet(
                new ChartDataSet(
                    "A州", 
                    new <Number>[401851.0,418493.0,449606.0,488418.0,513704.0,532496.0,544269.0,539310.0,541984.0,547160.0,553290.0,570193.0,588736.0,599432.0,603308.0,604412.0,608569.0,612968.0,619932.0,624779.0,627428.0,633160.0,642391.0,650426.0,660975.0,668625.0,676301.0,681111.0,686293.0,698473.0],
                    {
                        style: {
                            color: '#FF9900'
                        }
                    }
                )
            );
			//*/
			///*
            data.addSet(
                new ChartDataSet(
                    "B州",     //name
                    new <Number>[3894025.0,3918533.0,3925263.0,3934100.0,3951824.0,3972520.0,3991569.0,4015262.0,4023842.0,4030219.0,4050055.0,4099156.0,4154014.0,4214202.0,4260229.0,4296800.0,4331102.0,4367935.0,4404701.0,4430141.0,4451687.0,4462832.0,4469906.0,4486598.0,4506574.0,4537299.0,4587564.0,4626595.0,4661900.0,4708708.0], //values
                    //new <Number>[Number.NaN, Number.NaN, Number.NaN, Number.NaN, Number.NaN, Number.NaN, Number.NaN, Number.NaN, Number.NaN, Number.NaN], //values
                    //special configs
                    {
                        style: {
                            'color'         : '#990099'
                        },
                        styleSheet: {
                            'dot' : {
                                'color'     : '#FF0000'
                            }
                        }
                    }
                )
            );
			//*/
			
			/**
			 * 性能压力测试
			 */
			/*
			for (var i:uint = 0; i < 100; i++) {
				var values:Vector.<Number> = new Vector.<Number>();
				for (var j:uint = 0; j < 10; j++) {
					values[j] = Math.floor(Math.random() * 500);
				}
				chart.data.addSet(
					new ChartDataSet(
						"数据"+i,
						"",
						values,
                        {
                            style: {
                                color: ColorUtil.int2str(ColorUtil.getHighSaturationColor())
                            }
                        }
					)
				);
			}
			//*/

            var style:StyleSheet = chart.styleSheet;
            style.setStyle('canvas', {
                'backgroundColor2'  : '#E4F2F5',
                'gridThickness'     : null,
                'borderThickness'   : 2,
                'borderColor'       : '#7E7E7E',
                'xgap'              : 2
            });
            
            style.setStyle('line', {
                'thickness'         : 3,
                'alpha'	            : 1,
                'thickness.active'  : 5,
                'lineMethod'        : 'line',
                "fillType"      :"gradient",
                'fillAlpha.active'  :0.1
            });
            
            style.setStyle('line dot', {
                'color'         : 'inherit',
                'radius'        : 0
            });
            
            style.setStyle('yAxis', {
                'tickColor'     : '#666666',
                'lineThickness' : null,
                'tickThickness' : null
            });
            
            style.setStyle('xAxis', {
                'lineThickness' : null,
                'tickThickness' : 1,
                'labelGap'      : 'auto'
            });
            
            style.setStyle('legend', {
                'position'      : 'right',
                'layout'        : 'vertical',
                'valign'        : 'top'
            });
            
            chart.setStyle('leftAxisVisibility', 'visible');
            chart.setStyle('paddingBottom', '20');
            
            //设置图表的尺寸，图表的主体将会显示在这个范围内
            chart.chartWidth = 500;
            chart.chartHeight = 250;
            
            chart.state = ChartStates.NORMAL;
            
            addChild(chart);
            
            stage.addChild( new Stats() );
            
        }
        
        
        
    }

}