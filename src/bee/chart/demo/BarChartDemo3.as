package bee.chart.demo 
{
    import bee.chart.abstract.CartesianChartData;
    import bee.chart.abstract.ChartDataSet;
    import bee.chart.abstract.ChartStates;
    import bee.chart.BarChart;
    import flash.display.Sprite;
    import flash.events.Event;
    import net.hires.debug.Stats;
	/**
    * ...
    * @author hua.qiuh
    */
    public class BarChartDemo3 extends Sprite
    {
        
        public function BarChartDemo3() 
        {
            if (stage) init();
            else addEventListener(Event.ADDED_TO_STAGE, init);
        }
        
        private function init(e:Event = null):void 
        {
            removeEventListener(Event.ADDED_TO_STAGE, init);
            
            stage.align = 'TL';
            stage.scaleMode = 'noScale';
            
            var json:Object = {
                "elements": [
                        
                        {
                            "type": "line",
                            "colour": "#0000ff",
                            "text": "/china.alibaba.com/(PV)",
                            "width": 2,
                            "values": [{"x": 1270051200, "y": 79042}, {"x": 1270137600, "y": 75259}, {"x": 1270224000, "y": 53920}, {"x": 1270310400, "y": 45745}, {"x": 1270396800, "y": 49260}, {"x": 1270483200, "y": 79969}, {"x": 1270569600, "y": 78641}, {"x": 1270656000, "y": 79894}, {"x": 1270742400, "y": 75500}, {"x": 1270828800, "y": 62204}, {"x": 1270915200, "y": 52487}, {"x": 1271001600, "y": 80511}, {"x": 1271088000, "y": 80332}, {"x": 1271174400, "y": 80925}, {"x": 1271260800, "y": 76865}, {"x": 1271347200, "y": 73389}, {"x": 1271433600, "y": 57653}, {"x": 1271520000, "y": 51158}, {"x": 1271779200, "y": 106240}, {"x": 1272038400, "y": 65130}, {"x": 1272124800, "y": 54000}, {"x": 1272556800, "y": 71183}, {"x": 1272643200, "y": 42059}, {"x": 1272729600, "y": 44802}, {"x": 1273075200, "y": 30796}, {"x": 1273248000, "y": 63798}, {"x": 1273334400, "y": 53550}, {"x": 1273593600, "y": 108207}, {"x": 1273680000, "y": 137365}, {"x": 1273766400, "y": 140302}, {"x": 1273852800, "y": 124083}, {"x": 1273939200, "y": 106619}, {"x": 1274025600, "y": 140655}, {"x": 1274112000, "y": 131188}, {"x": 1274198400, "y": 131145}, {"x": 1274544000, "y": 80602}, {"x": 1274630400, "y": 114909}, {"x": 1274716800, "y": 114424}, {"x": 1274803200, "y": 109205}, {"x": 1274889600, "y": 114596}, {"x": 1274976000, "y": 118891}, {"x": 1275062400, "y": 95914}, {"x": 1275148800, "y": 81185}, {"x": 1275235200, "y": 112146}, {"x": 1275321600, "y": 107038}, {"x": 1275494400, "y": 118077}, {"x": 1275580800, "y": 29752}, {"x": 1275667200, "y": 90981}, {"x": 1275753600, "y": 81900}, {"x": 1275840000, "y": 113160}, {"x": 1275926400, "y": 115886}, {"x": 1276012800, "y": 108674}, {"x": 1276099200, "y": 78052}, {"x": 1276185600, "y": 72760}, {"x": 1276272000, "y": 65482}, {"x": 1276358400, "y": 60805}, {"x": 1276444800, "y": 65935}, {"x": 1276531200, "y": 60885}, {"x": 1276617600, "y": 49257}, {"x": 1276704000, "y": 80116}, {"x": 1276790400, "y": 77659}, {"x": 1276876800, "y": 63531}, {"x": 1276963200, "y": 52106}, {"x": 1277049600, "y": 82626}, {"x": 1277136000, "y": 81841}, {"x": 1277222400, "y": 89180}, {"x": 1277308800, "y": 111780}, {"x": 1277395200, "y": 82230}, {"x": 1277481600, "y": 55157}, {"x": 1277568000, "y": 44617}, {"x": 1277654400, "y": 74454}, {"x": 1277740800, "y": 88097}, {"x": 1277827200, "y": 91853}, {"x": 1277913600, "y": 98261}, {"x": 1278000000, "y": 96501}, {"x": 1278172800, "y": 75140}, {"x": 1278259200, "y": 97411}, {"x": 1278345600, "y": 83456}, {"x": 1278432000, "y": 85530}, {"x": 1278518400, "y": 87261}, {"x": 1278604800, "y": 87226}, {"x": 1278691200, "y": 74230}, {"x": 1278777600, "y": 67392}, {"x": 1278950400, "y": 96242}, {"x": 1279036800, "y": 94041}, {"x": 1279123200, "y": 78490}, {"x": 1279209600, "y": 86358}, {"x": 1279296000, "y": 77005}, {"x": 1279382400, "y": 60426}, {"x": 1279468800, "y": 90684}, {"x": 1279555200, "y": 83440}, {"x": 1279641600, "y": 82863}, {"x": 1279728000, "y": 80660}, {"x": 1279814400, "y": 83072}, {"x": 1279900800, "y": 66083}, {"x": 1279987200, "y": 50555}, {"x": 1280073600, "y": 78309}, {"x": 1280160000, "y": 70041}, {"x": 1280246400, "y": 69546}, {"x": 1280332800, "y": 68653}, {"x": 1280419200, "y": 65455}, {"x": 1280505600, "y": 49390}, {"x": 1280592000, "y": 40818}, {"x": 1280678400, "y": 69030}, {"x": 1280764800, "y": 68218}, {"x": 1280851200, "y": 68745}, {"x": 1280937600, "y": 67785}, {"x": 1281024000, "y": 64936}, {"x": 1281110400, "y": 49171}, {"x": 1281196800, "y": 39570}, {"x": 1281283200, "y": 69759}, {"x": 1281369600, "y": 123805}, {"x": 1281456000, "y": 246948}, {"x": 1281542400, "y": 245204}, {"x": 1281628800, "y": 243102}, {"x": 1281715200, "y": 71915}, {"x": 1281801600, "y": 80290}, {"x": 1281888000, "y": 249606}, {"x": 1281974400, "y": 249570}, {"x": 1282060800, "y": 260802}, {"x": 1282147200, "y": 247552}, {"x": 1282233600, "y": 259493}, {"x": 1282320000, "y": 74569}, {"x": 1282406400, "y": 60472}, {"x": 1282492800, "y": 255447}, {"x": 1282579200, "y": 241619}, {"x": 1282665600, "y": 215633}, {"x": 1282752000, "y": 214340}, {"x": 1282838400, "y": 213064}, {"x": 1282924800, "y": 66077}, {"x": 1283011200, "y": 55080}, {"x": 1283097600, "y": 216891}, {"x": 1283184000, "y": 214038}, {"x": 1283270400, "y": 215916}, {"x": 1283356800, "y": 215248}, {"x": 1283443200, "y": 217768}, {"x": 1283529600, "y": 78966}, {"x": 1283616000, "y": 69950}, {"x": 1283702400, "y": 231139}, {"x": 1283788800, "y": 97263}, {"x": 1283875200, "y": 229235}, {"x": 1283961600, "y": 225922}, {"x": 1284048000, "y": 222764}, {"x": 1284134400, "y": 77312}, {"x": 1284220800, "y": 66868}, {"x": 1284307200, "y": 227543}, {"x": 1284393600, "y": 225827}, {"x": 1284739200, "y": 76448}, {"x": 1285344000, "y": 81338}, {"x": 1285430400, "y": 75975}, {"x": 1285516800, "y": 206407}, {"x": 1285603200, "y": 206395}, {"x": 1285689600, "y": 203603}, {"x": 1285776000, "y": 190723}, {"x": 1285862400, "y": 167042}, {"x": 1285948800, "y": 45177}, {"x": 1286035200, "y": 46757}, {"x": 1286121600, "y": 180837}, {"x": 1286208000, "y": 185128}, {"x": 1286294400, "y": 190468}, {"x": 1286380800, "y": 196349}, {"x": 1286467200, "y": 211217}, {"x": 1286553600, "y": 84343}, {"x": 1286640000, "y": 64203}, {"x": 1286726400, "y": 215743}, {"x": 1286812800, "y": 214220}, {"x": 1286899200, "y": 230357}, {"x": 1286985600, "y": 225464}, {"x": 1287072000, "y": 212218}, {"x": 1287158400, "y": 70467}, {"x": 1287244800, "y": 59578}, {"x": 1287331200, "y": 221971}, {"x": 1287417600, "y": 219154}, {"x": 1287504000, "y": 220693}, {"x": 1287590400, "y": 219896}, {"x": 1287676800, "y": 218310}, {"x": 1287763200, "y": 75385}, {"x": 1287849600, "y": 68604}, {"x": 1287936000, "y": 224512}, {"x": 1288022400, "y": 217790}, {"x": 1288108800, "y": 215811}, {"x": 1288195200, "y": 224584}, {"x": 1288281600, "y": 216203}, {"x": 1288368000, "y": 79872}, {"x": 1288454400, "y": 65858}, {"x": 1288540800, "y": 232483}, {"x": 1288627200, "y": 215202}, {"x": 1288713600, "y": 214863}, {"x": 1288800000, "y": 215209}, {"x": 1288886400, "y": 211937}, {"x": 1288972800, "y": 75261}, {"x": 1289059200, "y": 64247}, {"x": 1289145600, "y": 223321}, {"x": 1289232000, "y": 217538}, {"x": 1289318400, "y": 218138}, {"x": 1289404800, "y": 207471}, {"x": 1289491200, "y": 208049}, {"x": 1289577600, "y": 74809}, {"x": 1289664000, "y": 61694}, {"x": 1289750400, "y": 210458}, {"x": 1289836800, "y": 210884}, {"x": 1289923200, "y": 209195}, {"x": 1290009600, "y": 208924}, {"x": 1290096000, "y": 206223}, {"x": 1290182400, "y": 72634}, {"x": 1290268800, "y": 62794}, {"x": 1290355200, "y": 214090}, {"x": 1290441600, "y": 211296}, {"x": 1290528000, "y": 211104}, {"x": 1290614400, "y": 210380}, {"x": 1290700800, "y": 203254}, {"x": 1290787200, "y": 71622}, {"x": 1290873600, "y": 60132}, {"x": 1290960000, "y": 204648}, {"x": 1291046400, "y": 210106}, {"x": 1291132800, "y": 218362}, {"x": 1291219200, "y": 223283}, {"x": 1291305600, "y": 218092}, {"x": 1291392000, "y": 85817}, {"x": 1291478400, "y": 74384}, {"x": 1291651200, "y": 228567}, {"x": 1291737600, "y": 226559}, {"x": 1291824000, "y": 224350}, {"x": 1291910400, "y": 221576}, {"x": 1291996800, "y": 88283}, {"x": 1292083200, "y": 77851}, {"x": 1292169600, "y": 236825}, {"x": 1292256000, "y": 239904}, {"x": 1292342400, "y": 236029}, {"x": 1292515200, "y": 215588}, {"x": 1292601600, "y": 75446}, {"x": 1292688000, "y": 65350}, {"x": 1292774400, "y": 220264}, {"x": 1292860800, "y": 218504}, {"x": 1292947200, "y": 216931}, {"x": 1293033600, "y": 216909}, {"x": 1293206400, "y": 69122}, {"x": 1293292800, "y": 60310}, {"x": 1293379200, "y": 214173}, {"x": 1293465600, "y": 211362}, {"x": 1293552000, "y": 211157}, {"x": 1293638400, "y": 203078}, {"x": 1293724800, "y": 190120}, {"x": 1293811200, "y": 41650}, {"x": 1293897600, "y": 47123}, {"x": 1293984000, "y": 183271}, {"x": 1294070400, "y": 129879}, {"x": 1294156800, "y": 125999}, {"x": 1294243200, "y": 125979}, {"x": 1294329600, "y": 123075}, {"x": 1294416000, "y": 62164}, {"x": 1294502400, "y": 51950}, {"x": 1294588800, "y": 124953}, {"x": 1294675200, "y": 122941}, {"x": 1294761600, "y": 122319}, {"x": 1294848000, "y": 122341}]
                        },
                        {
                            "type": "line",
                            "colour": "#009900",
                            "text": "/china.alibaba.com/(UV)",
                            "width": 1,
                            "values": [{"x": 1270051200, "y": 51257}, {"x": 1270137600, "y": 48407}, {"x": 1270224000, "y": 36664}, {"x": 1270310400, "y": 31824}, {"x": 1270396800, "y": 34261}, {"x": 1270483200, "y": 51495}, {"x": 1270569600, "y": 51064}, {"x": 1270656000, "y": 51176}, {"x": 1270742400, "y": 48763}, {"x": 1270828800, "y": 41368}, {"x": 1270915200, "y": 35972}, {"x": 1271001600, "y": 52002}, {"x": 1271088000, "y": 51669}, {"x": 1271174400, "y": 52345}, {"x": 1271260800, "y": 49645}, {"x": 1271347200, "y": 47721}, {"x": 1271433600, "y": 38690}, {"x": 1271520000, "y": 34877}, {"x": 1271779200, "y": 70207}, {"x": 1272038400, "y": 43694}, {"x": 1272124800, "y": 37600}, {"x": 1272556800, "y": 45418}, {"x": 1272643200, "y": 28619}, {"x": 1272729600, "y": 30160}, {"x": 1273075200, "y": 22215}, {"x": 1273248000, "y": 42714}, {"x": 1273334400, "y": 36568}, {"x": 1273593600, "y": 54621}, {"x": 1273680000, "y": 54820}, {"x": 1273766400, "y": 53082}, {"x": 1273852800, "y": 42231}, {"x": 1273939200, "y": 36614}, {"x": 1274025600, "y": 55136}, {"x": 1274112000, "y": 53577}, {"x": 1274198400, "y": 53191}, {"x": 1274544000, "y": 33745}, {"x": 1274630400, "y": 51830}, {"x": 1274716800, "y": 51409}, {"x": 1274803200, "y": 51620}, {"x": 1274889600, "y": 51169}, {"x": 1274976000, "y": 49615}, {"x": 1275062400, "y": 39948}, {"x": 1275148800, "y": 33329}, {"x": 1275235200, "y": 50970}, {"x": 1275321600, "y": 50853}, {"x": 1275494400, "y": 50001}, {"x": 1275580800, "y": 13287}, {"x": 1275667200, "y": 38672}, {"x": 1275753600, "y": 33130}, {"x": 1275840000, "y": 50243}, {"x": 1275926400, "y": 51888}, {"x": 1276012800, "y": 51727}, {"x": 1276099200, "y": 50959}, {"x": 1276185600, "y": 47793}, {"x": 1276272000, "y": 42796}, {"x": 1276358400, "y": 39058}, {"x": 1276444800, "y": 39444}, {"x": 1276531200, "y": 37214}, {"x": 1276617600, "y": 31294}, {"x": 1276704000, "y": 49018}, {"x": 1276790400, "y": 47280}, {"x": 1276876800, "y": 38611}, {"x": 1276963200, "y": 32198}, {"x": 1277049600, "y": 50329}, {"x": 1277136000, "y": 49577}, {"x": 1277222400, "y": 49529}, {"x": 1277308800, "y": 50000}, {"x": 1277395200, "y": 47348}, {"x": 1277481600, "y": 37181}, {"x": 1277568000, "y": 31017}, {"x": 1277654400, "y": 48934}, {"x": 1277740800, "y": 48507}, {"x": 1277827200, "y": 47414}, {"x": 1277913600, "y": 47000}, {"x": 1278000000, "y": 44859}, {"x": 1278172800, "y": 29208}, {"x": 1278259200, "y": 48830}, {"x": 1278345600, "y": 46948}, {"x": 1278432000, "y": 46426}, {"x": 1278518400, "y": 46686}, {"x": 1278604800, "y": 46769}, {"x": 1278691200, "y": 36454}, {"x": 1278777600, "y": 30361}, {"x": 1278950400, "y": 47896}, {"x": 1279036800, "y": 48218}, {"x": 1279123200, "y": 47494}, {"x": 1279209600, "y": 46805}, {"x": 1279296000, "y": 36535}, {"x": 1279382400, "y": 29988}, {"x": 1279468800, "y": 48092}, {"x": 1279555200, "y": 47972}, {"x": 1279641600, "y": 48979}, {"x": 1279728000, "y": 48478}, {"x": 1279814400, "y": 46547}, {"x": 1279900800, "y": 36253}, {"x": 1279987200, "y": 29378}, {"x": 1280073600, "y": 46413}, {"x": 1280160000, "y": 46264}, {"x": 1280246400, "y": 46017}, {"x": 1280332800, "y": 45154}, {"x": 1280419200, "y": 43129}, {"x": 1280505600, "y": 33531}, {"x": 1280592000, "y": 29380}, {"x": 1280678400, "y": 45735}, {"x": 1280764800, "y": 44863}, {"x": 1280851200, "y": 45643}, {"x": 1280937600, "y": 45052}, {"x": 1281024000, "y": 42980}, {"x": 1281110400, "y": 33301}, {"x": 1281196800, "y": 27792}, {"x": 1281283200, "y": 45557}, {"x": 1281369600, "y": 87760}, {"x": 1281456000, "y": 168250}, {"x": 1281542400, "y": 167571}, {"x": 1281628800, "y": 167325}, {"x": 1281715200, "y": 49958}, {"x": 1281801600, "y": 58838}, {"x": 1281888000, "y": 179867}, {"x": 1281974400, "y": 173596}, {"x": 1282060800, "y": 182021}, {"x": 1282147200, "y": 168890}, {"x": 1282233600, "y": 179725}, {"x": 1282320000, "y": 51314}, {"x": 1282406400, "y": 43030}, {"x": 1282492800, "y": 171042}, {"x": 1282579200, "y": 165632}, {"x": 1282665600, "y": 146201}, {"x": 1282752000, "y": 144922}, {"x": 1282838400, "y": 144202}, {"x": 1282924800, "y": 44727}, {"x": 1283011200, "y": 38409}, {"x": 1283097600, "y": 144889}, {"x": 1283184000, "y": 143966}, {"x": 1283270400, "y": 143453}, {"x": 1283356800, "y": 144471}, {"x": 1283443200, "y": 143856}, {"x": 1283529600, "y": 46201}, {"x": 1283616000, "y": 39956}, {"x": 1283702400, "y": 144360}, {"x": 1283788800, "y": 69030}, {"x": 1283875200, "y": 143889}, {"x": 1283961600, "y": 143519}, {"x": 1284048000, "y": 141660}, {"x": 1284134400, "y": 45557}, {"x": 1284220800, "y": 39000}, {"x": 1284307200, "y": 144205}, {"x": 1284393600, "y": 144453}, {"x": 1284739200, "y": 45815}, {"x": 1285344000, "y": 53619}, {"x": 1285430400, "y": 50438}, {"x": 1285516800, "y": 126590}, {"x": 1285603200, "y": 128823}, {"x": 1285689600, "y": 125864}, {"x": 1285776000, "y": 120592}, {"x": 1285862400, "y": 103169}, {"x": 1285948800, "y": 32218}, {"x": 1286035200, "y": 33020}, {"x": 1286121600, "y": 109134}, {"x": 1286208000, "y": 113873}, {"x": 1286294400, "y": 117503}, {"x": 1286380800, "y": 121518}, {"x": 1286467200, "y": 132214}, {"x": 1286553600, "y": 56219}, {"x": 1286640000, "y": 44454}, {"x": 1286726400, "y": 131147}, {"x": 1286812800, "y": 132907}, {"x": 1286899200, "y": 130611}, {"x": 1286985600, "y": 131569}, {"x": 1287072000, "y": 127782}, {"x": 1287158400, "y": 46359}, {"x": 1287244800, "y": 41037}, {"x": 1287331200, "y": 130481}, {"x": 1287417600, "y": 131510}, {"x": 1287504000, "y": 132176}, {"x": 1287590400, "y": 132163}, {"x": 1287676800, "y": 131616}, {"x": 1287763200, "y": 51328}, {"x": 1287849600, "y": 48785}, {"x": 1287936000, "y": 136407}, {"x": 1288022400, "y": 134334}, {"x": 1288108800, "y": 132809}, {"x": 1288195200, "y": 135283}, {"x": 1288281600, "y": 134134}, {"x": 1288368000, "y": 54181}, {"x": 1288454400, "y": 45921}, {"x": 1288540800, "y": 136131}, {"x": 1288627200, "y": 131860}, {"x": 1288713600, "y": 131931}, {"x": 1288800000, "y": 131925}, {"x": 1288886400, "y": 130624}, {"x": 1288972800, "y": 50241}, {"x": 1289059200, "y": 44203}, {"x": 1289145600, "y": 137392}, {"x": 1289232000, "y": 135506}, {"x": 1289318400, "y": 136279}, {"x": 1289404800, "y": 133428}, {"x": 1289491200, "y": 132715}, {"x": 1289577600, "y": 51067}, {"x": 1289664000, "y": 42846}, {"x": 1289750400, "y": 133015}, {"x": 1289836800, "y": 134045}, {"x": 1289923200, "y": 133875}, {"x": 1290009600, "y": 133722}, {"x": 1290096000, "y": 132843}, {"x": 1290182400, "y": 48675}, {"x": 1290268800, "y": 43141}, {"x": 1290355200, "y": 135896}, {"x": 1290441600, "y": 135497}, {"x": 1290528000, "y": 136015}, {"x": 1290614400, "y": 135151}, {"x": 1290700800, "y": 130609}, {"x": 1290787200, "y": 47427}, {"x": 1290873600, "y": 40942}, {"x": 1290960000, "y": 131685}, {"x": 1291046400, "y": 130143}, {"x": 1291132800, "y": 136604}, {"x": 1291219200, "y": 138908}, {"x": 1291305600, "y": 138097}, {"x": 1291392000, "y": 58481}, {"x": 1291478400, "y": 51651}, {"x": 1291651200, "y": 143033}, {"x": 1291737600, "y": 141338}, {"x": 1291824000, "y": 140576}, {"x": 1291910400, "y": 139798}, {"x": 1291996800, "y": 60686}, {"x": 1292083200, "y": 54289}, {"x": 1292169600, "y": 135767}, {"x": 1292256000, "y": 137252}, {"x": 1292342400, "y": 136416}, {"x": 1292515200, "y": 130171}, {"x": 1292601600, "y": 50996}, {"x": 1292688000, "y": 45090}, {"x": 1292774400, "y": 134639}, {"x": 1292860800, "y": 134208}, {"x": 1292947200, "y": 133748}, {"x": 1293033600, "y": 133851}, {"x": 1293206400, "y": 47790}, {"x": 1293292800, "y": 43307}, {"x": 1293379200, "y": 130332}, {"x": 1293465600, "y": 130426}, {"x": 1293552000, "y": 130305}, {"x": 1293638400, "y": 124870}, {"x": 1293724800, "y": 116570}, {"x": 1293811200, "y": 30168}, {"x": 1293897600, "y": 33470}, {"x": 1293984000, "y": 110275}, {"x": 1294070400, "y": 89227}, {"x": 1294156800, "y": 87327}, {"x": 1294243200, "y": 87268}, {"x": 1294329600, "y": 85182}, {"x": 1294416000, "y": 42444}, {"x": 1294502400, "y": 36719}, {"x": 1294588800, "y": 86252}, {"x": 1294675200, "y": 84804}, {"x": 1294761600, "y": 84482}, {"x": 1294848000, "y": 84212}]
                        }
                        
                    ],
                "title": {"text": ""},
                "x_axis": {
                        "min": 1270051200.0,
                        "max": 1294848000.0,
                        "steps": 86400,
                        "labels": {
                            "rotate": 270,
                            "steps": 86400,
                            "text": "#date:y-m-d#",
                            "visible-steps": 10
                        }
                    },
                "y_axis": {
                        "max": 260850
                    }
            };

            const MAX:uint = 500;
            //所有类型图表的CController都是同一个：Chart
            var chart:BarChart = new BarChart();
            addChild(chart);
            var data:CartesianChartData = chart.data as CartesianChartData;
            
            //添加数据
            //1. 以dataProvider的方式提供数据
            //chart.dataProvider = ...
            //2. 直接修改数据
            data.defineLabel("日期");
            data.defineValue('数量');
            var labels:Vector.<String> = new Vector.<String>();
            var count:int = 0;
            var date:Date = new Date();
            //trace(date.valueOf());
            //trace(new Date(date.valueOf()).valueOf());
            //date.setMilliseconds();
            //1295001064385
            //1294761600
            //trace(date);
            //return;
            
            for each(var dot:Object in json.elements[0].values) {
                if (count++ > MAX) break;
                //date = new Date(Number(dot.x)*1000);
                date.setTime(Number(dot.x) * 1000);
                labels.push(date.fullYear+'-'+(date.month+1)+'-'+date.date);
            }
            data.labels = labels;
            
            //------------ UV
            count = 0;
            var values:Vector.<Number> = new Vector.<Number>();
            for each(dot in json.elements[0].values) {
                if (count++ > MAX) break;
                values.push(Number(dot.y));
            }
            var uv:ChartDataSet = new ChartDataSet(
                json.elements[0].text,
                values,
                {
                    style: {
                        'color': '#4E9ADB'
                    }
                }
            );
            data.addSet(uv);
            
            var pv:ChartDataSet = new ChartDataSet(
                json.elements[1].text,
                values,
                {
                    style: {
                        'color': '#EA9410'
                    }
                }
            );
            values = new Vector.<Number>();
            count = 0;
            for each(dot in json.elements[1].values) {
                if (count++ > MAX) break;
                values.push(Number(dot.y));
            }
            pv.values = values;
            data.addSet(pv);
            
            
            
            chart.chartWidth = 600;
            
            //------------------ styles --------------
            
            chart.styleSheet.setStyle('xAxis', {
                'tickThickness' : null,
                'labelGap'      : 50,
                'tickPosition'  : 'center',
                'labelDataType' : 'date',
                'labelFormat'   : '%Y-%m-%d'
            });
            
            chart.styleSheet.setStyle('canvas', {
                //'gridThickness' : 1,
                //'gridColor'     : '#CCCCCC',
                'backgroundColor'   : '#FFFFFF',
                'backgroundColor2'  : '#EEEEEE'
            });
            
            chart.styleSheet.setStyle('bar', {
                'alpha'         : 1,
                'dropShadow'    : 'none'
            });
            
            chart.styleSheet.setStyle('bar label', {
                'color'         : 'inherit',
                'fontSize'      : 15
            });
            
            chart.setStyles( {
                //'paddingLeft'   : 20,
                //'paddingRight'  : 20
                'leftAxisVisibility': 'visible',
                'spacing'   : 1
            });
            
            chart.state = ChartStates.NORMAL;
            
            stage.addChild( new Stats() );
        }
        
    }

}